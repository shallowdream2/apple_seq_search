<!--result.wxml-->
<view class="page">
  <block wx:if="{{result && result.success}}">
    <!-- äº§å“å¡ç‰‡ -->
    <view class="product-card">
      <view class="product-icon-wrap">
        <text class="product-icon">{{result.icon === 'iphone' ? 'ğŸ“±' : result.icon === 'ipad' ? 'ğŸ“±' : result.icon === 'macbook' || result.icon === 'imac' || result.icon === 'mac' ? 'ğŸ’»' : result.icon === 'watch' ? 'âŒš' : result.icon === 'airpods' ? 'ğŸ§' : 'ğŸ'}}</text>
      </view>
      <text class="product-name">{{result.model}}</text>
      <view class="serial-row" bindtap="onCopySerial">
        <text class="serial-text">{{result.serial}}</text>
        <text class="copy-hint">ç‚¹å‡»å¤åˆ¶</text>
      </view>
      <view class="tag-row">
        <view class="tag">{{result.type}}</view>
        <view class="tag tag-warn" wx:if="{{result.refurbished}}">ç¿»æ–°æœº</view>
      </view>
    </view>

    <!-- é€šçŸ¥ -->
    <view class="notice-card" wx:if="{{result.notice}}">
      <text class="notice-text">{{result.notice}}</text>
    </view>

    <!-- è¯¦æƒ…åˆ—è¡¨ -->
    <view class="detail-card">
      <view class="detail-item">
        <text class="detail-label">äº§å“å‹å·</text>
        <text class="detail-value">{{result.model}}</text>
      </view>
      <view class="detail-item">
        <text class="detail-label">ç”Ÿäº§æ—¥æœŸ</text>
        <text class="detail-value">{{result.date.text}}</text>
      </view>
      <view class="detail-item">
        <text class="detail-label">ç”Ÿäº§åœ°ç‚¹</text>
        <text class="detail-value">{{result.factory}}</text>
      </view>
      <view class="detail-item" wx:if="{{result.uniqueId && result.uniqueId !== '-'}}">
        <text class="detail-label">å”¯ä¸€æ ‡è¯†ç </text>
        <text class="detail-value">{{result.uniqueId}}</text>
      </view>
      <view class="detail-item">
        <text class="detail-label">æ˜¯å¦ç¿»æ–°</text>
        <text class="detail-value {{result.refurbished ? 'text-warn' : 'text-ok'}}">{{result.refurbished ? 'æ˜¯ï¼ˆç¿»æ–°æœºï¼‰' : 'å¦ï¼ˆå…¨æ–°æœºï¼‰'}}</text>
      </view>
    </view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view class="action-section">
      <view class="btn-primary" bindtap="onCheckCoverage">å‰å¾€ Apple å®˜æ–¹æŸ¥è¯¢ä¿ä¿®</view>
      <view class="btn-secondary" bindtap="onBackSearch">è¿”å›æŸ¥è¯¢</view>
    </view>
  </block>

  <!-- æŸ¥è¯¢å¤±è´¥ -->
  <block wx:if="{{result && !result.success}}">
    <view class="error-card">
      <text class="error-icon">âš ï¸</text>
      <text class="error-text">{{result.error}}</text>
      <view class="btn-secondary" bindtap="onBackSearch">è¿”å›é‡è¯•</view>
    </view>
  </block>
</view>
